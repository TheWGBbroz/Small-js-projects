function StreamGames(t){this.apiKey=t,this.setApiKey=function(t){this.apiKey=t},this.getLiveStatus=function(t,e){sg_get("http://streamgames.co.uk/api/v1/livestatus/?apikey="+this.apiKey+"&data="+t,e)},this.getUserInfo=function(t,e){sg_get("http://streamgames.co.uk/api/v1/userinfo/?apikey="+this.apiKey+"&data="+t,e)},this.isLive=function(t){return 1==sg_getSync("http://streamgames.co.uk/api/v1/livestatus/?apikey="+this.apiKey+"&data="+t).livestatus},this.getTitle=function(t){return sg_getSync("http://streamgames.co.uk/api/v1/userinfo/?apikey="+this.apiKey+"&data="+t).streamtitle},this.getGame=function(t){return sg_getSync("http://streamgames.co.uk/api/v1/userinfo/?apikey="+this.apiKey+"&data="+t).streamgame},this.getViewers=function(t){return sg_getSync("http://streamgames.co.uk/api/v1/userinfo/?apikey="+this.apiKey+"&data="+t).viewers},this.getWarnings=function(t){return sg_getSync("http://streamgames.co.uk/api/v1/userinfo/?apikey="+this.apiKey+"&data="+t).warnings},this.createStream=function(t,e,s){var i=this;if("livestatus"==t){var a=i.isLive(e.user);setInterval(function(){var t=i.isLive(e.user);!a&&t?s({live:!0}):a&&!t&&s({live:!1}),a=t},1e3)}else console.log("Wrong stream type!")}}function sg_get(t,e){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState&&200==s.status){var t=JSON.parse(s.responseText);e&&e(t)}},s.open("GET",t,!0),s.send()}function sg_getSync(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),JSON.parse(e.responseText)}
